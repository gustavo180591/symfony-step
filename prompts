Quiero que diseÃ±es un sistema completo, modular y profesional, que gestione procesos o datos sensibles con mÃºltiples actores (ciudadanos, operadores, administradores, etc.). Este sistema debe ser adaptable a contextos pÃºblicos, privados, educativos o corporativos.

Debe incluir:

---

1. ğŸ¯ OBJETIVO GENERAL  
   - Â¿CuÃ¡l es el propÃ³sito del sistema?
   - Â¿QuÃ© problemas resuelve?
   - Â¿CuÃ¡les son sus funcionalidades clave?

---

2. ğŸ‘¤ TIPOS DE USUARIOS Y ROLES (RBAC avanzado + posibilidad de extender a ABAC)  
   - Lista detallada de roles: Usuario, Moderador, Admin Local, Admin Global, Auditor, Sysadmin.
   - Permisos por mÃ³dulo y acciÃ³n.
   - DelegaciÃ³n temporal, suspensiÃ³n, ACL por mÃ³dulo.
   - Soporte para roles combinados.

---

3. ğŸ“Š MODELO DE DATOS Y RELACIONES  
   - Entidades, atributos, claves, relaciones.
   - Diagrama E-R sugerido.
   - Validaciones, tipos de datos, restricciones, indices.
   - Multi-tenant opcional.
   - Seeds iniciales.

---

4. ğŸ›ï¸ FUNCIONALIDAD DE CARRITO DE COMPRA  
   - Estructura del carrito: productos, variantes, cantidades, descuentos.
   - Operaciones: agregar/quitar producto, actualizar cantidad, vaciar carrito.
   - Modo anÃ³nimo y modo autenticado (persistencia local + en servidor).
   - IntegraciÃ³n con pagos (simulado o real: Stripe, MercadoPago, etc.).
   - Resumen de compra, pasos del checkout, validaciones.
   - Historial de compras por usuario.
   - Soporte para cupones y promociones.

---

5. ğŸ—‚ï¸ ESTRUCTURA DE PROYECTO Y ARQUITECTURA DE CARPETAS  
   - Estructura modular escalable para frontend, backend y base de datos.
   - Cada carpeta/archivo con su funciÃ³n clara:
     - ğŸ“ `/modules` â†’ lÃ³gica de dominio separada
     - ğŸ“ `/components` â†’ UI modular, reutilizable
     - ğŸ“ `/routes` â†’ rutas protegidas/pÃºblicas
     - ğŸ“ `/api` â†’ endpoints REST/GraphQL
     - ğŸ“ `/services` â†’ conexiÃ³n con APIs internas y externas
     - ğŸ“ `/stores` â†’ estado global, auth, carrito, notificaciones
     - ğŸ“ `/config` â†’ constantes, envs, middlewares, plugins
     - ğŸ“ `/tests` â†’ pruebas unitarias, e2e, mocks
   - Backend desacoplado: Symfony, NestJS o Express.
   - Frontend con SvelteKit modularizado.

---

6. ğŸ§© MODULARIZACIÃ“N  
   - Clean Architecture o Hexagonal.
   - Plugins por funcionalidad (e.g. mÃ³dulo de notificaciones, mÃ³dulo de carrito).
   - Facilitar desacoplamiento y tests por mÃ³dulo.

---

7. ğŸ’» FRONTEND (SvelteKit recomendado)  
   - DiseÃ±o moderno y accesible.
   - Modo oscuro, i18n, componentes reusables.
   - Stores globales para sesiÃ³n, estado de usuario y carrito.
   - UX fluida con validaciones, carga progresiva y notificaciones.

---

8. ğŸ“± APP MÃ“VIL (PWA o Capacitor exportable)  
   - Compartir lÃ³gica con el frontend web.
   - Acceso a APIs nativas: cÃ¡mara, GPS, notificaciones push.
   - Responsive + usable offline.

---

9. ğŸ” AUTENTICACIÃ“N Y SEGURIDAD  
   - JWT + OAuth2 con scopes.
   - Middleware de autenticaciÃ³n y autorizaciÃ³n.
   - CSRF, XSS, brute-force prevention.
   - AuditorÃ­a completa de acciones de usuarios.

---

10. ğŸŒ API REST/GraphQL  
    - Rutas protegidas y pÃºblicas.
    - DocumentaciÃ³n OpenAPI/Swagger.
    - Esquemas de entrada/salida validados.

---

11. ğŸ§ª TESTING  
    - Unitarios con Jest o PHPUnit.
    - E2E con Playwright o Cypress.
    - Pruebas de API y rutas.
    - Coverage e integraciÃ³n en CI/CD.

---

12. ğŸš€ DEVOPS Y DESPLIEGUE  
    - Docker y Docker Compose.
    - CI/CD con GitHub Actions o GitLab.
    - Monitoreo: Prometheus + Grafana.
    - Backups automÃ¡ticos y versionado de datos.

---

13. ğŸ“ˆ ESCALABILIDAD Y MANTENIMIENTO  
    - PostgreSQL particionado.
    - Redis para cachÃ©/sesiones.
    - Websockets o colas con RabbitMQ para tareas pesadas.
    - CDN para assets.
    - Blue-green deployment o canary releases.

---

14. ğŸ› ï¸ EXTRAS  
    - Sistema de notificaciones modular.
    - Panel de mÃ©tricas y rendimiento.
    - Tokens de API para integraciones externas.
    - Trazabilidad completa.
    - Modo mantenimiento y restauraciÃ³n de backups desde panel.
    - Feature flags y entorno multi-idioma desde el inicio.

---

ğŸ§  RespondÃ© con una soluciÃ³n completa para este sistema, anticipando posibles problemas, justificando elecciones tÃ©cnicas y proponiendo una arquitectura escalable, segura, modular y visualmente moderna.
